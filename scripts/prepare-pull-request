#!/usr/bin/env python3
"""CLI wrapper for prepare-pull-request: generate PR title/body using prompt."""
import argparse
import sys


def main():
    parser = argparse.ArgumentParser(prog="prepare-pull-request")
    parser.add_argument("--base-branch", required=True)
    parser.add_argument("--pr-body-prompt-path", required=True)
    parser.add_argument("--llm-model", default=None)
    args = parser.parse_args()

    from doppiozero.prepare_pull_request import prepare_pull_request

    title, body = prepare_pull_request(
        args.base_branch, args.pr_body_prompt_path, llm_model=args.llm_model
    )
    print(title)
    print()
    print(body)


if __name__ == "__main__":
    main()
