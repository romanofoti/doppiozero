#!/usr/bin/env python3
"""CLI wrapper for archive-meeting."""
import argparse

import datetime
from typing import Optional
from doppiozero.meetings import meetings


def archive_meeting_cli(
    transcripts_dir: str,
    target_dir: str,
    executive_summary_prompt_path: str,
    detailed_notes_prompt_path: str,
    transcript_files: Optional[list] = None,
) -> None:
    archive_meeting(
        transcripts_dir=transcripts_dir,
        target_dir=target_dir,
        executive_summary_prompt_path=executive_summary_prompt_path,
        detailed_notes_prompt_path=detailed_notes_prompt_path,
        transcript_files=transcript_files,
    )


def main():
    parser = argparse.ArgumentParser(prog="archive-meeting")
    parser.add_argument("--transcripts-dir", required=True)
    parser.add_argument("--target-dir", required=True)
    parser.add_argument("--executive-summary-prompt-path", required=True)
    parser.add_argument("--detailed-notes-prompt-path", required=True)
    args = parser.parse_args()

    meetings.archive_meeting(
        transcripts_dir=args.transcripts_dir,
        target_dir=args.target_dir,
        executive_summary_prompt_path=args.executive_summary_prompt_path,
        detailed_notes_prompt_path=args.detailed_notes_prompt_path,
    )


if __name__ == "__main__":
    main()
